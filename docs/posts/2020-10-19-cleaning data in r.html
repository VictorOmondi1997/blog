<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2020-10-19">
<meta name="description" content="No one likes missing data, but it is dangerous to assume that it can simply be removed or replaced. Sometimes missing data tells us something important about whatever it is that we’re measuring (i.e.&nbsp;the value of the variable that is missing may be related to - the reason it is missing). Such data is called Missing not at Random, or MNAR.">

<title>blog - Introduction and Exproling Raw data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/VictorOmondi1997"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/VictorOmondi197"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Introduction and Exproling Raw data</h1>
                  <div>
        <div class="description">
          No one likes missing data, but it is dangerous to assume that it can simply be removed or replaced. Sometimes missing data tells us something important about whatever it is that we’re measuring (i.e.&nbsp;the value of the variable that is missing may be related to - the reason it is missing). Such data is called Missing not at Random, or MNAR.
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 19, 2020</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="exploring-raw-data" class="level2">
<h2 class="anchored" data-anchor-id="exploring-raw-data">Exploring raw data</h2>
<section id="getting-a-feel-for-your-data" class="level3">
<h3 class="anchored" data-anchor-id="getting-a-feel-for-your-data">Getting a feel for your data</h3>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(installr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
"package 'stringr' was built under R version 3.6.3"Warning message:
"package 'installr' was built under R version 3.6.3"
Welcome to installr version 0.22.0

More information is available on the installr project website:
https://github.com/talgalili/installr/

Contact: &lt;tal.galili@gmail.com&gt;
Suggestions and bug-reports can be submitted at: https://github.com/talgalili/installr/issues

            To suppress this message use:
            suppressPackageStartupMessages(library(installr))
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>weather <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="fu">gzcon</span>(<span class="fu">url</span>(<span class="st">'https://assets.datacamp.com/production/repositories/34/datasets/b3c1036d9a60a9dfe0f99051d2474a54f76055ea/weather.rds'</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
'data.frame'
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">X</th><th scope="col">year</th><th scope="col">month</th><th scope="col">measure</th><th scope="col">X1</th><th scope="col">X2</th><th scope="col">X3</th><th scope="col">X4</th><th scope="col">X5</th><th scope="col">X6</th><th scope="col">...</th><th scope="col">X22</th><th scope="col">X23</th><th scope="col">X24</th><th scope="col">X25</th><th scope="col">X26</th><th scope="col">X27</th><th scope="col">X28</th><th scope="col">X29</th><th scope="col">X30</th><th scope="col">X31</th></tr></thead>
<tbody>
    <tr><td>1                </td><td>2014             </td><td>12               </td><td>Max.TemperatureF </td><td>64               </td><td>42               </td><td>51               </td><td>43               </td><td>42               </td><td>45               </td><td>...              </td><td>44               </td><td>47               </td><td>46               </td><td>59               </td><td>50               </td><td>52               </td><td>52               </td><td>41               </td><td>30               </td><td>30               </td></tr>
    <tr><td>2                </td><td>2014             </td><td>12               </td><td>Mean.TemperatureF</td><td>52               </td><td>38               </td><td>44               </td><td>37               </td><td>34               </td><td>42               </td><td>...              </td><td>39               </td><td>45               </td><td>44               </td><td>52               </td><td>44               </td><td>45               </td><td>46               </td><td>36               </td><td>26               </td><td>25               </td></tr>
    <tr><td>3                </td><td>2014             </td><td>12               </td><td>Min.TemperatureF </td><td>39               </td><td>33               </td><td>37               </td><td>30               </td><td>26               </td><td>38               </td><td>...              </td><td>33               </td><td>42               </td><td>41               </td><td>44               </td><td>37               </td><td>38               </td><td>40               </td><td>30               </td><td>22               </td><td>20               </td></tr>
    <tr><td>4                </td><td>2014             </td><td>12               </td><td>Max.Dew.PointF   </td><td>46               </td><td>40               </td><td>49               </td><td>24               </td><td>37               </td><td>45               </td><td>...              </td><td>39               </td><td>45               </td><td>46               </td><td>58               </td><td>31               </td><td>34               </td><td>42               </td><td>26               </td><td>10               </td><td>8                </td></tr>
    <tr><td>5                </td><td>2014             </td><td>12               </td><td>MeanDew.PointF   </td><td>40               </td><td>27               </td><td>42               </td><td>21               </td><td>25               </td><td>40               </td><td>...              </td><td>34               </td><td>42               </td><td>44               </td><td>43               </td><td>29               </td><td>31               </td><td>35               </td><td>20               </td><td>4                </td><td>5                </td></tr>
    <tr><td>6                </td><td>2014             </td><td>12               </td><td>Min.DewpointF    </td><td>26               </td><td>17               </td><td>24               </td><td>13               </td><td>12               </td><td>36               </td><td>...              </td><td>25               </td><td>37               </td><td>41               </td><td>29               </td><td>28               </td><td>29               </td><td>27               </td><td>10               </td><td>-6               </td><td>1                </td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th></th><th scope="col">X</th><th scope="col">year</th><th scope="col">month</th><th scope="col">measure</th><th scope="col">X1</th><th scope="col">X2</th><th scope="col">X3</th><th scope="col">X4</th><th scope="col">X5</th><th scope="col">X6</th><th scope="col">...</th><th scope="col">X22</th><th scope="col">X23</th><th scope="col">X24</th><th scope="col">X25</th><th scope="col">X26</th><th scope="col">X27</th><th scope="col">X28</th><th scope="col">X29</th><th scope="col">X30</th><th scope="col">X31</th></tr></thead>
<tbody>
    <tr><th scope="row">281</th><td>281               </td><td>2015              </td><td>12                </td><td>Mean.Wind.SpeedMPH</td><td>6                 </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>...               </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td></tr>
    <tr><th scope="row">282</th><td>282               </td><td>2015              </td><td>12                </td><td>Max.Gust.SpeedMPH </td><td>17                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>...               </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td></tr>
    <tr><th scope="row">283</th><td>283               </td><td>2015              </td><td>12                </td><td>PrecipitationIn   </td><td>0.14              </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>...               </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td></tr>
    <tr><th scope="row">284</th><td>284               </td><td>2015              </td><td>12                </td><td>CloudCover        </td><td>7                 </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>...               </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td></tr>
    <tr><th scope="row">285</th><td>285               </td><td>2015              </td><td>12                </td><td>Events            </td><td>Rain              </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>...               </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td></tr>
    <tr><th scope="row">286</th><td>286               </td><td>2015              </td><td>12                </td><td>WindDirDegrees    </td><td>109               </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>...               </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td><td>NA                </td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   286 obs. of  35 variables:
 $ X      : int  1 2 3 4 5 6 7 8 9 10 ...
 $ year   : int  2014 2014 2014 2014 2014 2014 2014 2014 2014 2014 ...
 $ month  : int  12 12 12 12 12 12 12 12 12 12 ...
 $ measure: chr  "Max.TemperatureF" "Mean.TemperatureF" "Min.TemperatureF" "Max.Dew.PointF" ...
 $ X1     : chr  "64" "52" "39" "46" ...
 $ X2     : chr  "42" "38" "33" "40" ...
 $ X3     : chr  "51" "44" "37" "49" ...
 $ X4     : chr  "43" "37" "30" "24" ...
 $ X5     : chr  "42" "34" "26" "37" ...
 $ X6     : chr  "45" "42" "38" "45" ...
 $ X7     : chr  "38" "30" "21" "36" ...
 $ X8     : chr  "29" "24" "18" "28" ...
 $ X9     : chr  "49" "39" "29" "49" ...
 $ X10    : chr  "48" "43" "38" "45" ...
 $ X11    : chr  "39" "36" "32" "37" ...
 $ X12    : chr  "39" "35" "31" "28" ...
 $ X13    : chr  "42" "37" "32" "28" ...
 $ X14    : chr  "45" "39" "33" "29" ...
 $ X15    : chr  "42" "37" "32" "33" ...
 $ X16    : chr  "44" "40" "35" "42" ...
 $ X17    : chr  "49" "45" "41" "46" ...
 $ X18    : chr  "44" "40" "36" "34" ...
 $ X19    : chr  "37" "33" "29" "25" ...
 $ X20    : chr  "36" "32" "27" "30" ...
 $ X21    : chr  "36" "33" "30" "30" ...
 $ X22    : chr  "44" "39" "33" "39" ...
 $ X23    : chr  "47" "45" "42" "45" ...
 $ X24    : chr  "46" "44" "41" "46" ...
 $ X25    : chr  "59" "52" "44" "58" ...
 $ X26    : chr  "50" "44" "37" "31" ...
 $ X27    : chr  "52" "45" "38" "34" ...
 $ X28    : chr  "52" "46" "40" "42" ...
 $ X29    : chr  "41" "36" "30" "26" ...
 $ X30    : chr  "30" "26" "22" "10" ...
 $ X31    : chr  "30" "25" "20" "8" ...</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>286</li>
    <li>35</li>
</ol>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>bmi<span class="ot">=</span><span class="fu">read_csv</span>(<span class="st">'https://assets.datacamp.com/production/repositories/34/datasets/a0a569ebbb34500d11979eba95360125127e6434/bmi_clean.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Parsed with column specification:
cols(
  .default = col_double(),
  Country = col_character()
)
See spec(...) for full column specifications.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(bmi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>'spec_tbl_df'</li>
    <li>'tbl_df'</li>
    <li>'tbl'</li>
    <li>'data.frame'</li>
</ol>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(bmi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>199</li>
    <li>30</li>
</ol>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bmi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">Country</th><th scope="col">Y1980</th><th scope="col">Y1981</th><th scope="col">Y1982</th><th scope="col">Y1983</th><th scope="col">Y1984</th><th scope="col">Y1985</th><th scope="col">Y1986</th><th scope="col">Y1987</th><th scope="col">Y1988</th><th scope="col">...</th><th scope="col">Y1999</th><th scope="col">Y2000</th><th scope="col">Y2001</th><th scope="col">Y2002</th><th scope="col">Y2003</th><th scope="col">Y2004</th><th scope="col">Y2005</th><th scope="col">Y2006</th><th scope="col">Y2007</th><th scope="col">Y2008</th></tr></thead>
<tbody>
    <tr><td>Afghanistan        </td><td>21.48678           </td><td>21.46552           </td><td>21.45145           </td><td>21.43822           </td><td>21.42734           </td><td>21.41222           </td><td>21.40132           </td><td>21.37679           </td><td>21.34018           </td><td>...                </td><td>20.75469           </td><td>20.69521           </td><td>20.62643           </td><td>20.59848           </td><td>20.58706           </td><td>20.57759           </td><td>20.58084           </td><td>20.58749           </td><td>20.60246           </td><td>20.62058           </td></tr>
    <tr><td>Albania            </td><td>25.22533           </td><td>25.23981           </td><td>25.25636           </td><td>25.27176           </td><td>25.27901           </td><td>25.28669           </td><td>25.29451           </td><td>25.30217           </td><td>25.30450           </td><td>...                </td><td>25.46555           </td><td>25.55835           </td><td>25.66701           </td><td>25.77167           </td><td>25.87274           </td><td>25.98136           </td><td>26.08939           </td><td>26.20867           </td><td>26.32753           </td><td>26.44657           </td></tr>
    <tr><td>Algeria            </td><td>22.25703           </td><td>22.34745           </td><td>22.43647           </td><td>22.52105           </td><td>22.60633           </td><td>22.69501           </td><td>22.76979           </td><td>22.84096           </td><td>22.90644           </td><td>...                </td><td>23.69486           </td><td>23.77659           </td><td>23.86256           </td><td>23.95294           </td><td>24.05243           </td><td>24.15957           </td><td>24.27001           </td><td>24.38270           </td><td>24.48846           </td><td>24.59620           </td></tr>
    <tr><td>Andorra            </td><td>25.66652           </td><td>25.70868           </td><td>25.74681           </td><td>25.78250           </td><td>25.81874           </td><td>25.85236           </td><td>25.89089           </td><td>25.93414           </td><td>25.98477           </td><td>...                </td><td>26.75078           </td><td>26.83179           </td><td>26.92373           </td><td>27.02525           </td><td>27.12481           </td><td>27.23107           </td><td>27.32827           </td><td>27.43588           </td><td>27.53363           </td><td>27.63048           </td></tr>
    <tr><td>Angola             </td><td>20.94876           </td><td>20.94371           </td><td>20.93754           </td><td>20.93187           </td><td>20.93569           </td><td>20.94857           </td><td>20.96030           </td><td>20.98025           </td><td>21.01375           </td><td>...                </td><td>21.31954           </td><td>21.37480           </td><td>21.43664           </td><td>21.51765           </td><td>21.59924           </td><td>21.69218           </td><td>21.80564           </td><td>21.93881           </td><td>22.08962           </td><td>22.25083           </td></tr>
    <tr><td>Antigua and Barbuda</td><td>23.31424           </td><td>23.39054           </td><td>23.45883           </td><td>23.53735           </td><td>23.63584           </td><td>23.73109           </td><td>23.83449           </td><td>23.93649           </td><td>24.05364           </td><td>...                </td><td>24.91721           </td><td>24.99158           </td><td>25.05857           </td><td>25.13039           </td><td>25.20713           </td><td>25.29898           </td><td>25.39965           </td><td>25.51382           </td><td>25.64247           </td><td>25.76602           </td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(bmi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">Country</th><th scope="col">Y1980</th><th scope="col">Y1981</th><th scope="col">Y1982</th><th scope="col">Y1983</th><th scope="col">Y1984</th><th scope="col">Y1985</th><th scope="col">Y1986</th><th scope="col">Y1987</th><th scope="col">Y1988</th><th scope="col">...</th><th scope="col">Y1999</th><th scope="col">Y2000</th><th scope="col">Y2001</th><th scope="col">Y2002</th><th scope="col">Y2003</th><th scope="col">Y2004</th><th scope="col">Y2005</th><th scope="col">Y2006</th><th scope="col">Y2007</th><th scope="col">Y2008</th></tr></thead>
<tbody>
    <tr><td>Venezuela         </td><td>24.58052          </td><td>24.69666          </td><td>24.80082          </td><td>24.89208          </td><td>24.98440          </td><td>25.07104          </td><td>25.15587          </td><td>25.24624          </td><td>25.35274          </td><td>...               </td><td>26.50035          </td><td>26.61021          </td><td>26.71688          </td><td>26.79210          </td><td>26.85498          </td><td>26.95162          </td><td>27.05633          </td><td>27.17698          </td><td>27.30849          </td><td>27.44500          </td></tr>
    <tr><td>Vietnam           </td><td>19.01394          </td><td>19.03902          </td><td>19.06804          </td><td>19.09675          </td><td>19.13046          </td><td>19.16397          </td><td>19.19740          </td><td>19.23481          </td><td>19.27090          </td><td>...               </td><td>20.02081          </td><td>20.10343          </td><td>20.18623          </td><td>20.27145          </td><td>20.36402          </td><td>20.46585          </td><td>20.57277          </td><td>20.68655          </td><td>20.80189          </td><td>20.91630          </td></tr>
    <tr><td>West Bank and Gaza</td><td>24.31624          </td><td>24.40192          </td><td>24.48713          </td><td>24.57107          </td><td>24.65582          </td><td>24.74148          </td><td>24.82984          </td><td>24.91615          </td><td>25.00108          </td><td>...               </td><td>26.28240          </td><td>26.39074          </td><td>26.45700          </td><td>26.48925          </td><td>26.51152          </td><td>26.52924          </td><td>26.54329          </td><td>26.54449          </td><td>26.55460          </td><td>26.57750          </td></tr>
    <tr><td>Yemen, Rep.       </td><td>22.90384          </td><td>22.96813          </td><td>23.02669          </td><td>23.07279          </td><td>23.12566          </td><td>23.16944          </td><td>23.20933          </td><td>23.25043          </td><td>23.29401          </td><td>...               </td><td>23.85482          </td><td>23.92467          </td><td>23.99129          </td><td>24.05692          </td><td>24.12459          </td><td>24.19204          </td><td>24.25638          </td><td>24.32120          </td><td>24.37949          </td><td>24.44157          </td></tr>
    <tr><td>Zambia            </td><td>19.66295          </td><td>19.69512          </td><td>19.72538          </td><td>19.75420          </td><td>19.78070          </td><td>19.80335          </td><td>19.82396          </td><td>19.85065          </td><td>19.88320          </td><td>...               </td><td>20.15094          </td><td>20.17261          </td><td>20.20266          </td><td>20.24298          </td><td>20.29474          </td><td>20.35966          </td><td>20.43398          </td><td>20.51422          </td><td>20.59770          </td><td>20.68321          </td></tr>
    <tr><td>Zimbabwe          </td><td>21.46989          </td><td>21.48867          </td><td>21.50738          </td><td>21.52936          </td><td>21.53383          </td><td>21.54341          </td><td>21.54859          </td><td>21.54590          </td><td>21.55396          </td><td>...               </td><td>21.68873          </td><td>21.72652          </td><td>21.76514          </td><td>21.79645          </td><td>21.82499          </td><td>21.85806          </td><td>21.89495          </td><td>21.93371          </td><td>21.97405          </td><td>22.02660          </td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(bmi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [199 x 30] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Country: chr [1:199] "Afghanistan" "Albania" "Algeria" "Andorra" ...
 $ Y1980  : num [1:199] 21.5 25.2 22.3 25.7 20.9 ...
 $ Y1981  : num [1:199] 21.5 25.2 22.3 25.7 20.9 ...
 $ Y1982  : num [1:199] 21.5 25.3 22.4 25.7 20.9 ...
 $ Y1983  : num [1:199] 21.4 25.3 22.5 25.8 20.9 ...
 $ Y1984  : num [1:199] 21.4 25.3 22.6 25.8 20.9 ...
 $ Y1985  : num [1:199] 21.4 25.3 22.7 25.9 20.9 ...
 $ Y1986  : num [1:199] 21.4 25.3 22.8 25.9 21 ...
 $ Y1987  : num [1:199] 21.4 25.3 22.8 25.9 21 ...
 $ Y1988  : num [1:199] 21.3 25.3 22.9 26 21 ...
 $ Y1989  : num [1:199] 21.3 25.3 23 26 21.1 ...
 $ Y1990  : num [1:199] 21.2 25.3 23 26.1 21.1 ...
 $ Y1991  : num [1:199] 21.2 25.3 23.1 26.2 21.1 ...
 $ Y1992  : num [1:199] 21.1 25.2 23.2 26.2 21.1 ...
 $ Y1993  : num [1:199] 21.1 25.2 23.3 26.3 21.1 ...
 $ Y1994  : num [1:199] 21 25.2 23.3 26.4 21.1 ...
 $ Y1995  : num [1:199] 20.9 25.3 23.4 26.4 21.2 ...
 $ Y1996  : num [1:199] 20.9 25.3 23.5 26.5 21.2 ...
 $ Y1997  : num [1:199] 20.8 25.3 23.5 26.6 21.2 ...
 $ Y1998  : num [1:199] 20.8 25.4 23.6 26.7 21.3 ...
 $ Y1999  : num [1:199] 20.8 25.5 23.7 26.8 21.3 ...
 $ Y2000  : num [1:199] 20.7 25.6 23.8 26.8 21.4 ...
 $ Y2001  : num [1:199] 20.6 25.7 23.9 26.9 21.4 ...
 $ Y2002  : num [1:199] 20.6 25.8 24 27 21.5 ...
 $ Y2003  : num [1:199] 20.6 25.9 24.1 27.1 21.6 ...
 $ Y2004  : num [1:199] 20.6 26 24.2 27.2 21.7 ...
 $ Y2005  : num [1:199] 20.6 26.1 24.3 27.3 21.8 ...
 $ Y2006  : num [1:199] 20.6 26.2 24.4 27.4 21.9 ...
 $ Y2007  : num [1:199] 20.6 26.3 24.5 27.5 22.1 ...
 $ Y2008  : num [1:199] 20.6 26.4 24.6 27.6 22.3 ...
 - attr(*, "spec")=
  .. cols(
  ..   Country = col_character(),
  ..   Y1980 = col_double(),
  ..   Y1981 = col_double(),
  ..   Y1982 = col_double(),
  ..   Y1983 = col_double(),
  ..   Y1984 = col_double(),
  ..   Y1985 = col_double(),
  ..   Y1986 = col_double(),
  ..   Y1987 = col_double(),
  ..   Y1988 = col_double(),
  ..   Y1989 = col_double(),
  ..   Y1990 = col_double(),
  ..   Y1991 = col_double(),
  ..   Y1992 = col_double(),
  ..   Y1993 = col_double(),
  ..   Y1994 = col_double(),
  ..   Y1995 = col_double(),
  ..   Y1996 = col_double(),
  ..   Y1997 = col_double(),
  ..   Y1998 = col_double(),
  ..   Y1999 = col_double(),
  ..   Y2000 = col_double(),
  ..   Y2001 = col_double(),
  ..   Y2002 = col_double(),
  ..   Y2003 = col_double(),
  ..   Y2004 = col_double(),
  ..   Y2005 = col_double(),
  ..   Y2006 = col_double(),
  ..   Y2007 = col_double(),
  ..   Y2008 = col_double()
  .. )</code></pre>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(bmi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 199
Columns: 30
$ Country &lt;chr&gt; "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "...
$ Y1980   &lt;dbl&gt; 21.48678, 25.22533, 22.25703, 25.66652, 20.94876, 23.31424,...
$ Y1981   &lt;dbl&gt; 21.46552, 25.23981, 22.34745, 25.70868, 20.94371, 23.39054,...
$ Y1982   &lt;dbl&gt; 21.45145, 25.25636, 22.43647, 25.74681, 20.93754, 23.45883,...
$ Y1983   &lt;dbl&gt; 21.43822, 25.27176, 22.52105, 25.78250, 20.93187, 23.53735,...
$ Y1984   &lt;dbl&gt; 21.42734, 25.27901, 22.60633, 25.81874, 20.93569, 23.63584,...
$ Y1985   &lt;dbl&gt; 21.41222, 25.28669, 22.69501, 25.85236, 20.94857, 23.73109,...
$ Y1986   &lt;dbl&gt; 21.40132, 25.29451, 22.76979, 25.89089, 20.96030, 23.83449,...
$ Y1987   &lt;dbl&gt; 21.37679, 25.30217, 22.84096, 25.93414, 20.98025, 23.93649,...
$ Y1988   &lt;dbl&gt; 21.34018, 25.30450, 22.90644, 25.98477, 21.01375, 24.05364,...
$ Y1989   &lt;dbl&gt; 21.29845, 25.31944, 22.97931, 26.04450, 21.05269, 24.16347,...
$ Y1990   &lt;dbl&gt; 21.24818, 25.32357, 23.04600, 26.10936, 21.09007, 24.26782,...
$ Y1991   &lt;dbl&gt; 21.20269, 25.28452, 23.11333, 26.17912, 21.12136, 24.36568,...
$ Y1992   &lt;dbl&gt; 21.14238, 25.23077, 23.18776, 26.24017, 21.14987, 24.45644,...
$ Y1993   &lt;dbl&gt; 21.06376, 25.21192, 23.25764, 26.30356, 21.13938, 24.54096,...
$ Y1994   &lt;dbl&gt; 20.97987, 25.22115, 23.32273, 26.36793, 21.14186, 24.60945,...
$ Y1995   &lt;dbl&gt; 20.91132, 25.25874, 23.39526, 26.43569, 21.16022, 24.66461,...
$ Y1996   &lt;dbl&gt; 20.85155, 25.31097, 23.46811, 26.50769, 21.19076, 24.72544,...
$ Y1997   &lt;dbl&gt; 20.81307, 25.33988, 23.54160, 26.58255, 21.22621, 24.78714,...
$ Y1998   &lt;dbl&gt; 20.78591, 25.39116, 23.61592, 26.66337, 21.27082, 24.84936,...
$ Y1999   &lt;dbl&gt; 20.75469, 25.46555, 23.69486, 26.75078, 21.31954, 24.91721,...
$ Y2000   &lt;dbl&gt; 20.69521, 25.55835, 23.77659, 26.83179, 21.37480, 24.99158,...
$ Y2001   &lt;dbl&gt; 20.62643, 25.66701, 23.86256, 26.92373, 21.43664, 25.05857,...
$ Y2002   &lt;dbl&gt; 20.59848, 25.77167, 23.95294, 27.02525, 21.51765, 25.13039,...
$ Y2003   &lt;dbl&gt; 20.58706, 25.87274, 24.05243, 27.12481, 21.59924, 25.20713,...
$ Y2004   &lt;dbl&gt; 20.57759, 25.98136, 24.15957, 27.23107, 21.69218, 25.29898,...
$ Y2005   &lt;dbl&gt; 20.58084, 26.08939, 24.27001, 27.32827, 21.80564, 25.39965,...
$ Y2006   &lt;dbl&gt; 20.58749, 26.20867, 24.38270, 27.43588, 21.93881, 25.51382,...
$ Y2007   &lt;dbl&gt; 20.60246, 26.32753, 24.48846, 27.53363, 22.08962, 25.64247,...
$ Y2008   &lt;dbl&gt; 20.62058, 26.44657, 24.59620, 27.63048, 22.25083, 25.76602,...</code></pre>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the first 6 rows</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bmi, <span class="at">n=</span><span class="dv">6</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View the first 15 rows</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bmi, <span class="at">n=</span><span class="dv">15</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View the last 6 rows</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(bmi, <span class="at">n=</span><span class="dv">6</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View the last 10 rows</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(bmi, <span class="at">n=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">Country</th><th scope="col">Y1980</th><th scope="col">Y1981</th><th scope="col">Y1982</th><th scope="col">Y1983</th><th scope="col">Y1984</th><th scope="col">Y1985</th><th scope="col">Y1986</th><th scope="col">Y1987</th><th scope="col">Y1988</th><th scope="col">...</th><th scope="col">Y1999</th><th scope="col">Y2000</th><th scope="col">Y2001</th><th scope="col">Y2002</th><th scope="col">Y2003</th><th scope="col">Y2004</th><th scope="col">Y2005</th><th scope="col">Y2006</th><th scope="col">Y2007</th><th scope="col">Y2008</th></tr></thead>
<tbody>
    <tr><td>Afghanistan        </td><td>21.48678           </td><td>21.46552           </td><td>21.45145           </td><td>21.43822           </td><td>21.42734           </td><td>21.41222           </td><td>21.40132           </td><td>21.37679           </td><td>21.34018           </td><td>...                </td><td>20.75469           </td><td>20.69521           </td><td>20.62643           </td><td>20.59848           </td><td>20.58706           </td><td>20.57759           </td><td>20.58084           </td><td>20.58749           </td><td>20.60246           </td><td>20.62058           </td></tr>
    <tr><td>Albania            </td><td>25.22533           </td><td>25.23981           </td><td>25.25636           </td><td>25.27176           </td><td>25.27901           </td><td>25.28669           </td><td>25.29451           </td><td>25.30217           </td><td>25.30450           </td><td>...                </td><td>25.46555           </td><td>25.55835           </td><td>25.66701           </td><td>25.77167           </td><td>25.87274           </td><td>25.98136           </td><td>26.08939           </td><td>26.20867           </td><td>26.32753           </td><td>26.44657           </td></tr>
    <tr><td>Algeria            </td><td>22.25703           </td><td>22.34745           </td><td>22.43647           </td><td>22.52105           </td><td>22.60633           </td><td>22.69501           </td><td>22.76979           </td><td>22.84096           </td><td>22.90644           </td><td>...                </td><td>23.69486           </td><td>23.77659           </td><td>23.86256           </td><td>23.95294           </td><td>24.05243           </td><td>24.15957           </td><td>24.27001           </td><td>24.38270           </td><td>24.48846           </td><td>24.59620           </td></tr>
    <tr><td>Andorra            </td><td>25.66652           </td><td>25.70868           </td><td>25.74681           </td><td>25.78250           </td><td>25.81874           </td><td>25.85236           </td><td>25.89089           </td><td>25.93414           </td><td>25.98477           </td><td>...                </td><td>26.75078           </td><td>26.83179           </td><td>26.92373           </td><td>27.02525           </td><td>27.12481           </td><td>27.23107           </td><td>27.32827           </td><td>27.43588           </td><td>27.53363           </td><td>27.63048           </td></tr>
    <tr><td>Angola             </td><td>20.94876           </td><td>20.94371           </td><td>20.93754           </td><td>20.93187           </td><td>20.93569           </td><td>20.94857           </td><td>20.96030           </td><td>20.98025           </td><td>21.01375           </td><td>...                </td><td>21.31954           </td><td>21.37480           </td><td>21.43664           </td><td>21.51765           </td><td>21.59924           </td><td>21.69218           </td><td>21.80564           </td><td>21.93881           </td><td>22.08962           </td><td>22.25083           </td></tr>
    <tr><td>Antigua and Barbuda</td><td>23.31424           </td><td>23.39054           </td><td>23.45883           </td><td>23.53735           </td><td>23.63584           </td><td>23.73109           </td><td>23.83449           </td><td>23.93649           </td><td>24.05364           </td><td>...                </td><td>24.91721           </td><td>24.99158           </td><td>25.05857           </td><td>25.13039           </td><td>25.20713           </td><td>25.29898           </td><td>25.39965           </td><td>25.51382           </td><td>25.64247           </td><td>25.76602           </td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">Country</th><th scope="col">Y1980</th><th scope="col">Y1981</th><th scope="col">Y1982</th><th scope="col">Y1983</th><th scope="col">Y1984</th><th scope="col">Y1985</th><th scope="col">Y1986</th><th scope="col">Y1987</th><th scope="col">Y1988</th><th scope="col">...</th><th scope="col">Y1999</th><th scope="col">Y2000</th><th scope="col">Y2001</th><th scope="col">Y2002</th><th scope="col">Y2003</th><th scope="col">Y2004</th><th scope="col">Y2005</th><th scope="col">Y2006</th><th scope="col">Y2007</th><th scope="col">Y2008</th></tr></thead>
<tbody>
    <tr><td>Afghanistan        </td><td>21.48678           </td><td>21.46552           </td><td>21.45145           </td><td>21.43822           </td><td>21.42734           </td><td>21.41222           </td><td>21.40132           </td><td>21.37679           </td><td>21.34018           </td><td>...                </td><td>20.75469           </td><td>20.69521           </td><td>20.62643           </td><td>20.59848           </td><td>20.58706           </td><td>20.57759           </td><td>20.58084           </td><td>20.58749           </td><td>20.60246           </td><td>20.62058           </td></tr>
    <tr><td>Albania            </td><td>25.22533           </td><td>25.23981           </td><td>25.25636           </td><td>25.27176           </td><td>25.27901           </td><td>25.28669           </td><td>25.29451           </td><td>25.30217           </td><td>25.30450           </td><td>...                </td><td>25.46555           </td><td>25.55835           </td><td>25.66701           </td><td>25.77167           </td><td>25.87274           </td><td>25.98136           </td><td>26.08939           </td><td>26.20867           </td><td>26.32753           </td><td>26.44657           </td></tr>
    <tr><td>Algeria            </td><td>22.25703           </td><td>22.34745           </td><td>22.43647           </td><td>22.52105           </td><td>22.60633           </td><td>22.69501           </td><td>22.76979           </td><td>22.84096           </td><td>22.90644           </td><td>...                </td><td>23.69486           </td><td>23.77659           </td><td>23.86256           </td><td>23.95294           </td><td>24.05243           </td><td>24.15957           </td><td>24.27001           </td><td>24.38270           </td><td>24.48846           </td><td>24.59620           </td></tr>
    <tr><td>Andorra            </td><td>25.66652           </td><td>25.70868           </td><td>25.74681           </td><td>25.78250           </td><td>25.81874           </td><td>25.85236           </td><td>25.89089           </td><td>25.93414           </td><td>25.98477           </td><td>...                </td><td>26.75078           </td><td>26.83179           </td><td>26.92373           </td><td>27.02525           </td><td>27.12481           </td><td>27.23107           </td><td>27.32827           </td><td>27.43588           </td><td>27.53363           </td><td>27.63048           </td></tr>
    <tr><td>Angola             </td><td>20.94876           </td><td>20.94371           </td><td>20.93754           </td><td>20.93187           </td><td>20.93569           </td><td>20.94857           </td><td>20.96030           </td><td>20.98025           </td><td>21.01375           </td><td>...                </td><td>21.31954           </td><td>21.37480           </td><td>21.43664           </td><td>21.51765           </td><td>21.59924           </td><td>21.69218           </td><td>21.80564           </td><td>21.93881           </td><td>22.08962           </td><td>22.25083           </td></tr>
    <tr><td>Antigua and Barbuda</td><td>23.31424           </td><td>23.39054           </td><td>23.45883           </td><td>23.53735           </td><td>23.63584           </td><td>23.73109           </td><td>23.83449           </td><td>23.93649           </td><td>24.05364           </td><td>...                </td><td>24.91721           </td><td>24.99158           </td><td>25.05857           </td><td>25.13039           </td><td>25.20713           </td><td>25.29898           </td><td>25.39965           </td><td>25.51382           </td><td>25.64247           </td><td>25.76602           </td></tr>
    <tr><td>Argentina          </td><td>25.37913           </td><td>25.44951           </td><td>25.50242           </td><td>25.55644           </td><td>25.61271           </td><td>25.66593           </td><td>25.72364           </td><td>25.78529           </td><td>25.84428           </td><td>...                </td><td>26.79005           </td><td>26.88103           </td><td>26.96067           </td><td>26.99882           </td><td>27.04738           </td><td>27.11001           </td><td>27.18941           </td><td>27.28179           </td><td>27.38889           </td><td>27.50170           </td></tr>
    <tr><td>Armenia            </td><td>23.82469           </td><td>23.86401           </td><td>23.91023           </td><td>23.95649           </td><td>24.00181           </td><td>24.04083           </td><td>24.08736           </td><td>24.13334           </td><td>24.17219           </td><td>...                </td><td>24.11699           </td><td>24.18045           </td><td>24.26670           </td><td>24.37698           </td><td>24.50332           </td><td>24.64178           </td><td>24.81447           </td><td>24.99160           </td><td>25.17590           </td><td>25.35542           </td></tr>
    <tr><td>Australia          </td><td>24.92729           </td><td>25.00216           </td><td>25.07660           </td><td>25.14938           </td><td>25.22894           </td><td>25.31849           </td><td>25.41017           </td><td>25.50528           </td><td>25.60001           </td><td>...                </td><td>26.65506           </td><td>26.74486           </td><td>26.84397           </td><td>26.93858           </td><td>27.03801           </td><td>27.13871           </td><td>27.24614           </td><td>27.35267           </td><td>27.45878           </td><td>27.56373           </td></tr>
    <tr><td>Austria            </td><td>24.84097           </td><td>24.88110           </td><td>24.93482           </td><td>24.98118           </td><td>25.02208           </td><td>25.06015           </td><td>25.10680           </td><td>25.14747           </td><td>25.19333           </td><td>...                </td><td>25.81773           </td><td>25.87471           </td><td>25.93806           </td><td>25.99583           </td><td>26.06356           </td><td>26.14360           </td><td>26.21107           </td><td>26.29374           </td><td>26.38136           </td><td>26.46741           </td></tr>
    <tr><td>Azerbaijan         </td><td>24.49375           </td><td>24.52584           </td><td>24.56064           </td><td>24.60150           </td><td>24.64121           </td><td>24.67566           </td><td>24.71906           </td><td>24.75799           </td><td>24.78894           </td><td>...                </td><td>24.47842           </td><td>24.51287           </td><td>24.57202           </td><td>24.66021           </td><td>24.77164           </td><td>24.89376           </td><td>25.06256           </td><td>25.25706           </td><td>25.45513           </td><td>25.65117           </td></tr>
    <tr><td>Bahamas            </td><td>24.21064           </td><td>24.30814           </td><td>24.42750           </td><td>24.54415           </td><td>24.66558           </td><td>24.78408           </td><td>24.90724           </td><td>25.03166           </td><td>25.14778           </td><td>...                </td><td>26.12080           </td><td>26.25748           </td><td>26.38653           </td><td>26.51184           </td><td>26.62607           </td><td>26.75612           </td><td>26.88517           </td><td>27.00715           </td><td>27.12653           </td><td>27.24594           </td></tr>
    <tr><td>Bahrain            </td><td>23.97588           </td><td>24.09045           </td><td>24.20617           </td><td>24.32335           </td><td>24.43174           </td><td>24.53684           </td><td>24.63328           </td><td>24.74914           </td><td>24.86604           </td><td>...                </td><td>26.50245           </td><td>26.65409           </td><td>26.80388           </td><td>26.94923           </td><td>27.09298           </td><td>27.23908           </td><td>27.38693           </td><td>27.53868           </td><td>27.68865           </td><td>27.83721           </td></tr>
    <tr><td>Bangladesh         </td><td>20.51918           </td><td>20.47766           </td><td>20.43741           </td><td>20.40075           </td><td>20.36524           </td><td>20.32983           </td><td>20.29654           </td><td>20.26401           </td><td>20.23497           </td><td>...                </td><td>20.13361           </td><td>20.14774           </td><td>20.16802           </td><td>20.18621           </td><td>20.20948           </td><td>20.23957           </td><td>20.27648           </td><td>20.31554           </td><td>20.35493           </td><td>20.39742           </td></tr>
    <tr><td>Barbados           </td><td>24.36372           </td><td>24.43455           </td><td>24.49314           </td><td>24.54713           </td><td>24.59913           </td><td>24.64998           </td><td>24.71728           </td><td>24.77976           </td><td>24.84265           </td><td>...                </td><td>25.51681           </td><td>25.60292           </td><td>25.68910           </td><td>25.77615           </td><td>25.87020           </td><td>25.95660           </td><td>26.06074           </td><td>26.16874           </td><td>26.27575           </td><td>26.38439           </td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">Country</th><th scope="col">Y1980</th><th scope="col">Y1981</th><th scope="col">Y1982</th><th scope="col">Y1983</th><th scope="col">Y1984</th><th scope="col">Y1985</th><th scope="col">Y1986</th><th scope="col">Y1987</th><th scope="col">Y1988</th><th scope="col">...</th><th scope="col">Y1999</th><th scope="col">Y2000</th><th scope="col">Y2001</th><th scope="col">Y2002</th><th scope="col">Y2003</th><th scope="col">Y2004</th><th scope="col">Y2005</th><th scope="col">Y2006</th><th scope="col">Y2007</th><th scope="col">Y2008</th></tr></thead>
<tbody>
    <tr><td>Venezuela         </td><td>24.58052          </td><td>24.69666          </td><td>24.80082          </td><td>24.89208          </td><td>24.98440          </td><td>25.07104          </td><td>25.15587          </td><td>25.24624          </td><td>25.35274          </td><td>...               </td><td>26.50035          </td><td>26.61021          </td><td>26.71688          </td><td>26.79210          </td><td>26.85498          </td><td>26.95162          </td><td>27.05633          </td><td>27.17698          </td><td>27.30849          </td><td>27.44500          </td></tr>
    <tr><td>Vietnam           </td><td>19.01394          </td><td>19.03902          </td><td>19.06804          </td><td>19.09675          </td><td>19.13046          </td><td>19.16397          </td><td>19.19740          </td><td>19.23481          </td><td>19.27090          </td><td>...               </td><td>20.02081          </td><td>20.10343          </td><td>20.18623          </td><td>20.27145          </td><td>20.36402          </td><td>20.46585          </td><td>20.57277          </td><td>20.68655          </td><td>20.80189          </td><td>20.91630          </td></tr>
    <tr><td>West Bank and Gaza</td><td>24.31624          </td><td>24.40192          </td><td>24.48713          </td><td>24.57107          </td><td>24.65582          </td><td>24.74148          </td><td>24.82984          </td><td>24.91615          </td><td>25.00108          </td><td>...               </td><td>26.28240          </td><td>26.39074          </td><td>26.45700          </td><td>26.48925          </td><td>26.51152          </td><td>26.52924          </td><td>26.54329          </td><td>26.54449          </td><td>26.55460          </td><td>26.57750          </td></tr>
    <tr><td>Yemen, Rep.       </td><td>22.90384          </td><td>22.96813          </td><td>23.02669          </td><td>23.07279          </td><td>23.12566          </td><td>23.16944          </td><td>23.20933          </td><td>23.25043          </td><td>23.29401          </td><td>...               </td><td>23.85482          </td><td>23.92467          </td><td>23.99129          </td><td>24.05692          </td><td>24.12459          </td><td>24.19204          </td><td>24.25638          </td><td>24.32120          </td><td>24.37949          </td><td>24.44157          </td></tr>
    <tr><td>Zambia            </td><td>19.66295          </td><td>19.69512          </td><td>19.72538          </td><td>19.75420          </td><td>19.78070          </td><td>19.80335          </td><td>19.82396          </td><td>19.85065          </td><td>19.88320          </td><td>...               </td><td>20.15094          </td><td>20.17261          </td><td>20.20266          </td><td>20.24298          </td><td>20.29474          </td><td>20.35966          </td><td>20.43398          </td><td>20.51422          </td><td>20.59770          </td><td>20.68321          </td></tr>
    <tr><td>Zimbabwe          </td><td>21.46989          </td><td>21.48867          </td><td>21.50738          </td><td>21.52936          </td><td>21.53383          </td><td>21.54341          </td><td>21.54859          </td><td>21.54590          </td><td>21.55396          </td><td>...               </td><td>21.68873          </td><td>21.72652          </td><td>21.76514          </td><td>21.79645          </td><td>21.82499          </td><td>21.85806          </td><td>21.89495          </td><td>21.93371          </td><td>21.97405          </td><td>22.02660          </td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">Country</th><th scope="col">Y1980</th><th scope="col">Y1981</th><th scope="col">Y1982</th><th scope="col">Y1983</th><th scope="col">Y1984</th><th scope="col">Y1985</th><th scope="col">Y1986</th><th scope="col">Y1987</th><th scope="col">Y1988</th><th scope="col">...</th><th scope="col">Y1999</th><th scope="col">Y2000</th><th scope="col">Y2001</th><th scope="col">Y2002</th><th scope="col">Y2003</th><th scope="col">Y2004</th><th scope="col">Y2005</th><th scope="col">Y2006</th><th scope="col">Y2007</th><th scope="col">Y2008</th></tr></thead>
<tbody>
    <tr><td>United States     </td><td>25.46406          </td><td>25.57524          </td><td>25.67883          </td><td>25.78812          </td><td>25.90690          </td><td>26.02568          </td><td>26.13740          </td><td>26.25939          </td><td>26.37687          </td><td>...               </td><td>27.60386          </td><td>27.71039          </td><td>27.80569          </td><td>27.90479          </td><td>28.00041          </td><td>28.10039          </td><td>28.19703          </td><td>28.28959          </td><td>28.37574          </td><td>28.45698          </td></tr>
    <tr><td>Uruguay           </td><td>24.24001          </td><td>24.31948          </td><td>24.39260          </td><td>24.44209          </td><td>24.49525          </td><td>24.54516          </td><td>24.59804          </td><td>24.67024          </td><td>24.73972          </td><td>...               </td><td>25.78625          </td><td>25.86898          </td><td>25.93469          </td><td>25.96627          </td><td>26.00585          </td><td>26.06073          </td><td>26.13136          </td><td>26.20624          </td><td>26.29256          </td><td>26.39123          </td></tr>
    <tr><td>Uzbekistan        </td><td>24.56500          </td><td>24.60077          </td><td>24.62187          </td><td>24.64780          </td><td>24.66890          </td><td>24.69832          </td><td>24.72305          </td><td>24.74603          </td><td>24.77115          </td><td>...               </td><td>24.72082          </td><td>24.75326          </td><td>24.79418          </td><td>24.83998          </td><td>24.88965          </td><td>24.95455          </td><td>25.03331          </td><td>25.12717          </td><td>25.22226          </td><td>25.32054          </td></tr>
    <tr><td>Vanuatu           </td><td>23.20701          </td><td>23.32990          </td><td>23.46016          </td><td>23.60431          </td><td>23.75134          </td><td>23.89466          </td><td>24.03171          </td><td>24.15571          </td><td>24.27529          </td><td>...               </td><td>25.72398          </td><td>25.85208          </td><td>25.96032          </td><td>26.05661          </td><td>26.16060          </td><td>26.27087          </td><td>26.38887          </td><td>26.51376          </td><td>26.64903          </td><td>26.78926          </td></tr>
    <tr><td>Venezuela         </td><td>24.58052          </td><td>24.69666          </td><td>24.80082          </td><td>24.89208          </td><td>24.98440          </td><td>25.07104          </td><td>25.15587          </td><td>25.24624          </td><td>25.35274          </td><td>...               </td><td>26.50035          </td><td>26.61021          </td><td>26.71688          </td><td>26.79210          </td><td>26.85498          </td><td>26.95162          </td><td>27.05633          </td><td>27.17698          </td><td>27.30849          </td><td>27.44500          </td></tr>
    <tr><td>Vietnam           </td><td>19.01394          </td><td>19.03902          </td><td>19.06804          </td><td>19.09675          </td><td>19.13046          </td><td>19.16397          </td><td>19.19740          </td><td>19.23481          </td><td>19.27090          </td><td>...               </td><td>20.02081          </td><td>20.10343          </td><td>20.18623          </td><td>20.27145          </td><td>20.36402          </td><td>20.46585          </td><td>20.57277          </td><td>20.68655          </td><td>20.80189          </td><td>20.91630          </td></tr>
    <tr><td>West Bank and Gaza</td><td>24.31624          </td><td>24.40192          </td><td>24.48713          </td><td>24.57107          </td><td>24.65582          </td><td>24.74148          </td><td>24.82984          </td><td>24.91615          </td><td>25.00108          </td><td>...               </td><td>26.28240          </td><td>26.39074          </td><td>26.45700          </td><td>26.48925          </td><td>26.51152          </td><td>26.52924          </td><td>26.54329          </td><td>26.54449          </td><td>26.55460          </td><td>26.57750          </td></tr>
    <tr><td>Yemen, Rep.       </td><td>22.90384          </td><td>22.96813          </td><td>23.02669          </td><td>23.07279          </td><td>23.12566          </td><td>23.16944          </td><td>23.20933          </td><td>23.25043          </td><td>23.29401          </td><td>...               </td><td>23.85482          </td><td>23.92467          </td><td>23.99129          </td><td>24.05692          </td><td>24.12459          </td><td>24.19204          </td><td>24.25638          </td><td>24.32120          </td><td>24.37949          </td><td>24.44157          </td></tr>
    <tr><td>Zambia            </td><td>19.66295          </td><td>19.69512          </td><td>19.72538          </td><td>19.75420          </td><td>19.78070          </td><td>19.80335          </td><td>19.82396          </td><td>19.85065          </td><td>19.88320          </td><td>...               </td><td>20.15094          </td><td>20.17261          </td><td>20.20266          </td><td>20.24298          </td><td>20.29474          </td><td>20.35966          </td><td>20.43398          </td><td>20.51422          </td><td>20.59770          </td><td>20.68321          </td></tr>
    <tr><td>Zimbabwe          </td><td>21.46989          </td><td>21.48867          </td><td>21.50738          </td><td>21.52936          </td><td>21.53383          </td><td>21.54341          </td><td>21.54859          </td><td>21.54590          </td><td>21.55396          </td><td>...               </td><td>21.68873          </td><td>21.72652          </td><td>21.76514          </td><td>21.79645          </td><td>21.82499          </td><td>21.85806          </td><td>21.89495          </td><td>21.93371          </td><td>21.97405          </td><td>22.02660          </td></tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualizing-data" class="level3">
<h3 class="anchored" data-anchor-id="visualizing-data">Visualizing data</h3>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of BMIs from 2008</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(bmi<span class="sc">$</span>Y2008)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot comparing BMIs from 1980 to those from 2008</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bmi<span class="sc">$</span>Y1980, bmi<span class="sc">$</span>Y2008)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2020-10-19-Cleaning Data in R_files/figure-html/cell-17-output-1.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="2020-10-19-Cleaning Data in R_files/figure-html/cell-17-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="tidying-data" class="level1">
<h1>Tidying data</h1>
<p>an overview of the principles of tidy data, how to identify messy data, and what to do about it.</p>
<section id="introduction-to-tidy-data" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-tidy-data">Introduction to tidy data</h2>
<p>in <code>bmi</code>, All of the year column names could be expressed as values of a new variable called <code>year</code>.</p>
<section id="gathering-columns-into-key-value-pairs" class="level3">
<h3 class="anchored" data-anchor-id="gathering-columns-into-key-value-pairs">Gathering columns into key-value pairs</h3>
<p>The most important function in tidyr is <code>gather()</code>. It should be used when you have columns that are not variables and you want to collapse them into key-value pairs.</p>
<p>The easiest way to visualize the effect of <code>gather()</code> is that it makes wide datasets long. Running the following command on <code>wide_df</code> will make it long:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>gather(wide_df, my_key, my_val, <span class="op">-</span>col)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="spreading-key-value-pairs-into-columns" class="level3">
<h3 class="anchored" data-anchor-id="spreading-key-value-pairs-into-columns">Spreading key-value pairs into columns</h3>
<p>The opposite of <code>gather()</code> is <code>spread()</code>, which takes key-values pairs and spreads them across multiple columns. This is useful when values in a column should actually be column names (i.e.&nbsp;variables). It can also make data more compact and easier to read.</p>
<p>The easiest way to visualize the effect of spread() is that it makes long datasets wide. As you saw in the video, running the following command will make long_df wide:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>spread(long_df, my_key, my_val)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="separating-columns" class="level3">
<h3 class="anchored" data-anchor-id="separating-columns">Separating columns</h3>
<p>The <code>separate()</code> function allows you to separate one column into multiple columns. Unless you tell it otherwise, it will attempt to separate on any character that is not a letter or number. You can also specify a specific separator using the sep argument.</p>
<p>treatments dataset obeys the principles of tidy data, but we’d like to split the treatment dates into two separate columns: year and month. This can be accomplished with the following:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>separate(treatments, year_mo, c(<span class="st">"year"</span>, <span class="st">"month"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="uniting-columns" class="level3">
<h3 class="anchored" data-anchor-id="uniting-columns">Uniting columns</h3>
<p>The opposite of separate() is unite(), which takes multiple columns and pastes them together. By default, the contents of the columns will be separated by underscores in the new column, but this behavior can be altered via the sep argument.</p>
<p>treatments but this time the <code>year_mo</code> column has been separated into <code>year</code> and <code>month</code>. The original column can be recreated by putting year and month back together:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>unite(treatments, year_mo, year, month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="column-headers-are-values-not-variable-names" class="level3">
<h3 class="anchored" data-anchor-id="column-headers-are-values-not-variable-names">Column headers are values, not variable names</h3>
<p>You saw earlier, how we sometimes come across datasets where column names are actually values of a variable (e.g.&nbsp;months of the year). This is often the case when working with repeated measures data, where measurements are taken on subjects of interest on multiple occasions over time. The <code>gather()</code> function is helpful in these situations.</p>
</section>
<section id="variables-are-stored-in-both-rows-and-columns" class="level3">
<h3 class="anchored" data-anchor-id="variables-are-stored-in-both-rows-and-columns">Variables are stored in both rows and columns</h3>
<p>Sometimes you’ll run into situations where variables are stored in both rows and columns. Although it may not be immediately obvious, if we treat the values in the type column as variables and create a separate column for each of them, we can set things straight. To do this, we use the <code>spread()</code> function.</p>
</section>
<section id="multiple-values-are-stored-in-one-column" class="level3">
<h3 class="anchored" data-anchor-id="multiple-values-are-stored-in-one-column">Multiple values are stored in one column</h3>
<p>It’s also fairly common that you will find two variables stored in a single column of data. These variables may be joined by a separator like a dash, underscore, space, or forward slash.</p>
<p>The <code>separate(</code>) function comes in handy in these situations. Keep in mind that the <code>into</code> argument, which specifies the names of the 2 new columns being formed, must be given as a character vector (e.g.&nbsp;<code>c("column1", "column2"))</code>.</p>
</section>
</section>
</section>
<section id="preparing-data-for-analysis" class="level1">
<h1>Preparing data for analysis</h1>
<section id="type-conversions" class="level3">
<h3 class="anchored" data-anchor-id="type-conversions">Type conversions</h3>
<p>Loosely speaking, the <code>class()</code> function tells you what type of object you’re working with. (There are subtle differences between the <code>class</code>, <code>type</code>, and <code>mode</code> of an object,</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make this evaluate to "character"</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.character</span>(<span class="cn">TRUE</span>))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Make this evaluate to "numeric"</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.numeric</span>(<span class="st">"8484.00"</span>))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Make this evaluate to "integer"</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.integer</span>(99L))</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Make this evaluate to "factor"</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.factor</span>(<span class="st">"factor"</span>))</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Make this evaluate to "logical"</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as.logical</span>(<span class="st">"FALSE"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
'character'
</div>
<div class="cell-output cell-output-display">
'numeric'
</div>
<div class="cell-output cell-output-display">
'integer'
</div>
<div class="cell-output cell-output-display">
'factor'
</div>
<div class="cell-output cell-output-display">
'logical'
</div>
</div>
</section>
<section id="common-type-conversions" class="level3">
<h3 class="anchored" data-anchor-id="common-type-conversions">Common type conversions</h3>
<p>It is often necessary to change, or coerce, the way that variables in a dataset are stored.</p>
<p>This could be because of the way they were read into R (with <code>read.csv()</code>, for example) or perhaps the function you are using to analyze the data requires variables to be coded a certain way.</p>
<p>Only certain coercions are allowed, but the rules for what works are generally pretty intuitive. For example, trying to convert a character string to a number gives an error: <code>as.numeric("some text")</code>.</p>
<p>There are a few less intuitive results. For example, under the hood, the logical values <code>TRUE</code> and <code>FALSE</code> are coded as <code>1</code> and <code>0</code>, respectively. Therefore, <code>as.logical(1)</code> returns <code>TRUE</code> and <code>as.numeric(TRUE)</code> returns <code>1</code>.</p>
</section>
<section id="working-with-dates" class="level3">
<h3 class="anchored" data-anchor-id="working-with-dates">Working with dates</h3>
<p>Dates can be a challenge to work with in any programming language, but thanks to the lubridate package, working with dates in R isn’t so bad. Since this project is about cleaning data, we only cover the most basic functions from lubridate to help us standardize the format of dates and times in our data. these functions combine the letters <code>y</code>, <code>m</code>, <code>d</code>, <code>h</code>, <code>m</code>, <code>s</code>, which stand for year, month, day, hour, minute, and second, respectively. The order of the letters in the function should match the order of the date/time you are attempting to read in, although not all combinations are valid. Notice that the functions are “smart” in that they are capable of parsing multiple formats.</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>students <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">'https://assets.datacamp.com/production/repositories/34/datasets/f75a87dbbdf2cf79e2286f97b2af22146cb717b1/students_with_dates.csv'</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
"Missing column names filled in: 'X1' [1]"Parsed with column specification:
cols(
  .default = col_character(),
  X1 = col_double(),
  dob = col_date(format = ""),
  Medu = col_double(),
  Fedu = col_double(),
  traveltime = col_double(),
  studytime = col_double(),
  failures = col_double(),
  famrel = col_double(),
  freetime = col_double(),
  goout = col_double(),
  Dalc = col_double(),
  Walc = col_double(),
  health = col_double(),
  nurse_visit = col_datetime(format = ""),
  absences = col_double()
)
See spec(...) for full column specifications.</code></pre>
</div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">X1</th><th scope="col">school</th><th scope="col">sex</th><th scope="col">dob</th><th scope="col">address</th><th scope="col">famsize</th><th scope="col">Pstatus</th><th scope="col">Medu</th><th scope="col">Fedu</th><th scope="col">Mjob</th><th scope="col">...</th><th scope="col">romantic</th><th scope="col">famrel</th><th scope="col">freetime</th><th scope="col">goout</th><th scope="col">Dalc</th><th scope="col">Walc</th><th scope="col">health</th><th scope="col">nurse_visit</th><th scope="col">absences</th><th scope="col">Grades</th></tr></thead>
<tbody>
    <tr><td>1                  </td><td>GP                 </td><td>F                  </td><td>2000-06-05         </td><td>U                  </td><td>GT3                </td><td>A                  </td><td>4                  </td><td>4                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>4                  </td><td>1                  </td><td>1                  </td><td>3                  </td><td>2014-04-10 14:59:54</td><td> 6                 </td><td>5/6/6              </td></tr>
    <tr><td>2                  </td><td>GP                 </td><td>F                  </td><td>1999-11-25         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>1                  </td><td>1                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>5                  </td><td>3                  </td><td>3                  </td><td>1                  </td><td>1                  </td><td>3                  </td><td>2015-03-12 14:59:54</td><td> 4                 </td><td>5/5/6              </td></tr>
    <tr><td>3                  </td><td>GP                 </td><td>F                  </td><td>1998-02-02         </td><td>U                  </td><td>LE3                </td><td>T                  </td><td>1                  </td><td>1                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>2                  </td><td>2                  </td><td>3                  </td><td>3                  </td><td>2015-09-21 14:59:54</td><td>10                 </td><td>7/8/10             </td></tr>
    <tr><td>4                  </td><td>GP                 </td><td>F                  </td><td>1997-12-20         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>4                  </td><td>2                  </td><td>health             </td><td>...                </td><td>yes                </td><td>3                  </td><td>2                  </td><td>2                  </td><td>1                  </td><td>1                  </td><td>5                  </td><td>2015-09-03 14:59:54</td><td> 2                 </td><td>15/14/15           </td></tr>
    <tr><td>5                  </td><td>GP                 </td><td>F                  </td><td>1998-10-04         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>3                  </td><td>3                  </td><td>other              </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>2                  </td><td>1                  </td><td>2                  </td><td>5                  </td><td>2015-04-07 14:59:54</td><td> 4                 </td><td>6/10/10            </td></tr>
    <tr><td>6                  </td><td>GP                 </td><td>M                  </td><td>1999-06-16         </td><td>U                  </td><td>LE3                </td><td>T                  </td><td>4                  </td><td>3                  </td><td>services           </td><td>...                </td><td>no                 </td><td>5                  </td><td>4                  </td><td>2                  </td><td>1                  </td><td>2                  </td><td>5                  </td><td>2013-11-15 14:59:54</td><td>10                 </td><td>15/15/15           </td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [395 x 33] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ X1         : num [1:395] 1 2 3 4 5 6 7 8 9 10 ...
 $ school     : chr [1:395] "GP" "GP" "GP" "GP" ...
 $ sex        : chr [1:395] "F" "F" "F" "F" ...
 $ dob        : Date[1:395], format: "2000-06-05" "1999-11-25" ...
 $ address    : chr [1:395] "U" "U" "U" "U" ...
 $ famsize    : chr [1:395] "GT3" "GT3" "LE3" "GT3" ...
 $ Pstatus    : chr [1:395] "A" "T" "T" "T" ...
 $ Medu       : num [1:395] 4 1 1 4 3 4 2 4 3 3 ...
 $ Fedu       : num [1:395] 4 1 1 2 3 3 2 4 2 4 ...
 $ Mjob       : chr [1:395] "at_home" "at_home" "at_home" "health" ...
 $ Fjob       : chr [1:395] "teacher" "other" "other" "services" ...
 $ reason     : chr [1:395] "course" "course" "other" "home" ...
 $ guardian   : chr [1:395] "mother" "father" "mother" "mother" ...
 $ traveltime : num [1:395] 2 1 1 1 1 1 1 2 1 1 ...
 $ studytime  : num [1:395] 2 2 2 3 2 2 2 2 2 2 ...
 $ failures   : num [1:395] 0 0 3 0 0 0 0 0 0 0 ...
 $ schoolsup  : chr [1:395] "yes" "no" "yes" "no" ...
 $ famsup     : chr [1:395] "no" "yes" "no" "yes" ...
 $ paid       : chr [1:395] "no" "no" "yes" "yes" ...
 $ activities : chr [1:395] "no" "no" "no" "yes" ...
 $ nursery    : chr [1:395] "yes" "no" "yes" "yes" ...
 $ higher     : chr [1:395] "yes" "yes" "yes" "yes" ...
 $ internet   : chr [1:395] "no" "yes" "yes" "yes" ...
 $ romantic   : chr [1:395] "no" "no" "no" "yes" ...
 $ famrel     : num [1:395] 4 5 4 3 4 5 4 4 4 5 ...
 $ freetime   : num [1:395] 3 3 3 2 3 4 4 1 2 5 ...
 $ goout      : num [1:395] 4 3 2 2 2 2 4 4 2 1 ...
 $ Dalc       : num [1:395] 1 1 2 1 1 1 1 1 1 1 ...
 $ Walc       : num [1:395] 1 1 3 1 2 2 1 1 1 1 ...
 $ health     : num [1:395] 3 3 3 5 5 5 3 1 1 5 ...
 $ nurse_visit: POSIXct[1:395], format: "2014-04-10 14:59:54" "2015-03-12 14:59:54" ...
 $ absences   : num [1:395] 6 4 10 2 4 10 0 6 0 0 ...
 $ Grades     : chr [1:395] "5/6/6" "5/5/6" "7/8/10" "15/14/15" ...
 - attr(*, "spec")=
  .. cols(
  ..   X1 = col_double(),
  ..   school = col_character(),
  ..   sex = col_character(),
  ..   dob = col_date(format = ""),
  ..   address = col_character(),
  ..   famsize = col_character(),
  ..   Pstatus = col_character(),
  ..   Medu = col_double(),
  ..   Fedu = col_double(),
  ..   Mjob = col_character(),
  ..   Fjob = col_character(),
  ..   reason = col_character(),
  ..   guardian = col_character(),
  ..   traveltime = col_double(),
  ..   studytime = col_double(),
  ..   failures = col_double(),
  ..   schoolsup = col_character(),
  ..   famsup = col_character(),
  ..   paid = col_character(),
  ..   activities = col_character(),
  ..   nursery = col_character(),
  ..   higher = col_character(),
  ..   internet = col_character(),
  ..   romantic = col_character(),
  ..   famrel = col_double(),
  ..   freetime = col_double(),
  ..   goout = col_double(),
  ..   Dalc = col_double(),
  ..   Walc = col_double(),
  ..   health = col_double(),
  ..   nurse_visit = col_datetime(format = ""),
  ..   absences = col_double(),
  ..   Grades = col_character()
  .. )</code></pre>
</div>
</div>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coerce Grades to character</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>Grades <span class="ot">&lt;-</span> <span class="fu">as.character</span>(students<span class="sc">$</span>Grades)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Coerce Medu to factor</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>Medu <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(students<span class="sc">$</span>Medu)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Coerce Fedu to factor</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>Fedu <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(students<span class="sc">$</span>Fedu)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at students once more with str()</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [395 x 33] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ X1         : num [1:395] 1 2 3 4 5 6 7 8 9 10 ...
 $ school     : chr [1:395] "GP" "GP" "GP" "GP" ...
 $ sex        : chr [1:395] "F" "F" "F" "F" ...
 $ dob        : Date[1:395], format: "2000-06-05" "1999-11-25" ...
 $ address    : chr [1:395] "U" "U" "U" "U" ...
 $ famsize    : chr [1:395] "GT3" "GT3" "LE3" "GT3" ...
 $ Pstatus    : chr [1:395] "A" "T" "T" "T" ...
 $ Medu       : Factor w/ 5 levels "0","1","2","3",..: 5 2 2 5 4 5 3 5 4 4 ...
 $ Fedu       : Factor w/ 5 levels "0","1","2","3",..: 5 2 2 3 4 4 3 5 3 5 ...
 $ Mjob       : chr [1:395] "at_home" "at_home" "at_home" "health" ...
 $ Fjob       : chr [1:395] "teacher" "other" "other" "services" ...
 $ reason     : chr [1:395] "course" "course" "other" "home" ...
 $ guardian   : chr [1:395] "mother" "father" "mother" "mother" ...
 $ traveltime : num [1:395] 2 1 1 1 1 1 1 2 1 1 ...
 $ studytime  : num [1:395] 2 2 2 3 2 2 2 2 2 2 ...
 $ failures   : num [1:395] 0 0 3 0 0 0 0 0 0 0 ...
 $ schoolsup  : chr [1:395] "yes" "no" "yes" "no" ...
 $ famsup     : chr [1:395] "no" "yes" "no" "yes" ...
 $ paid       : chr [1:395] "no" "no" "yes" "yes" ...
 $ activities : chr [1:395] "no" "no" "no" "yes" ...
 $ nursery    : chr [1:395] "yes" "no" "yes" "yes" ...
 $ higher     : chr [1:395] "yes" "yes" "yes" "yes" ...
 $ internet   : chr [1:395] "no" "yes" "yes" "yes" ...
 $ romantic   : chr [1:395] "no" "no" "no" "yes" ...
 $ famrel     : num [1:395] 4 5 4 3 4 5 4 4 4 5 ...
 $ freetime   : num [1:395] 3 3 3 2 3 4 4 1 2 5 ...
 $ goout      : num [1:395] 4 3 2 2 2 2 4 4 2 1 ...
 $ Dalc       : num [1:395] 1 1 2 1 1 1 1 1 1 1 ...
 $ Walc       : num [1:395] 1 1 3 1 2 2 1 1 1 1 ...
 $ health     : num [1:395] 3 3 3 5 5 5 3 1 1 5 ...
 $ nurse_visit: POSIXct[1:395], format: "2014-04-10 14:59:54" "2015-03-12 14:59:54" ...
 $ absences   : num [1:395] 6 4 10 2 4 10 0 6 0 0 ...
 $ Grades     : chr [1:395] "5/6/6" "5/5/6" "7/8/10" "15/14/15" ...
 - attr(*, "spec")=
  .. cols(
  ..   X1 = col_double(),
  ..   school = col_character(),
  ..   sex = col_character(),
  ..   dob = col_date(format = ""),
  ..   address = col_character(),
  ..   famsize = col_character(),
  ..   Pstatus = col_character(),
  ..   Medu = col_double(),
  ..   Fedu = col_double(),
  ..   Mjob = col_character(),
  ..   Fjob = col_character(),
  ..   reason = col_character(),
  ..   guardian = col_character(),
  ..   traveltime = col_double(),
  ..   studytime = col_double(),
  ..   failures = col_double(),
  ..   schoolsup = col_character(),
  ..   famsup = col_character(),
  ..   paid = col_character(),
  ..   activities = col_character(),
  ..   nursery = col_character(),
  ..   higher = col_character(),
  ..   internet = col_character(),
  ..   romantic = col_character(),
  ..   famrel = col_double(),
  ..   freetime = col_double(),
  ..   goout = col_double(),
  ..   Dalc = col_double(),
  ..   Walc = col_double(),
  ..   health = col_double(),
  ..   nurse_visit = col_datetime(format = ""),
  ..   absences = col_double(),
  ..   Grades = col_character()
  .. )</code></pre>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview students2 with str()</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(students)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse as date</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(<span class="st">"17 Sep 2015"</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse as date and time (with no seconds!)</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy_hm</span>(<span class="st">"July 15, 2012 12:56"</span>)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Coerce dob to a date (with no time)</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>dob <span class="ot">&lt;-</span> <span class="fu">ymd</span>(students<span class="sc">$</span>dob)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Coerce nurse_visit to a date and time</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>nurse_visit <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(students<span class="sc">$</span>nurse_visit)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at students2 once more with str()</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [395 x 33] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ X1         : num [1:395] 1 2 3 4 5 6 7 8 9 10 ...
 $ school     : chr [1:395] "GP" "GP" "GP" "GP" ...
 $ sex        : chr [1:395] "F" "F" "F" "F" ...
 $ dob        : Date[1:395], format: "2000-06-05" "1999-11-25" ...
 $ address    : chr [1:395] "U" "U" "U" "U" ...
 $ famsize    : chr [1:395] "GT3" "GT3" "LE3" "GT3" ...
 $ Pstatus    : chr [1:395] "A" "T" "T" "T" ...
 $ Medu       : Factor w/ 5 levels "0","1","2","3",..: 5 2 2 5 4 5 3 5 4 4 ...
 $ Fedu       : Factor w/ 5 levels "0","1","2","3",..: 5 2 2 3 4 4 3 5 3 5 ...
 $ Mjob       : chr [1:395] "at_home" "at_home" "at_home" "health" ...
 $ Fjob       : chr [1:395] "teacher" "other" "other" "services" ...
 $ reason     : chr [1:395] "course" "course" "other" "home" ...
 $ guardian   : chr [1:395] "mother" "father" "mother" "mother" ...
 $ traveltime : num [1:395] 2 1 1 1 1 1 1 2 1 1 ...
 $ studytime  : num [1:395] 2 2 2 3 2 2 2 2 2 2 ...
 $ failures   : num [1:395] 0 0 3 0 0 0 0 0 0 0 ...
 $ schoolsup  : chr [1:395] "yes" "no" "yes" "no" ...
 $ famsup     : chr [1:395] "no" "yes" "no" "yes" ...
 $ paid       : chr [1:395] "no" "no" "yes" "yes" ...
 $ activities : chr [1:395] "no" "no" "no" "yes" ...
 $ nursery    : chr [1:395] "yes" "no" "yes" "yes" ...
 $ higher     : chr [1:395] "yes" "yes" "yes" "yes" ...
 $ internet   : chr [1:395] "no" "yes" "yes" "yes" ...
 $ romantic   : chr [1:395] "no" "no" "no" "yes" ...
 $ famrel     : num [1:395] 4 5 4 3 4 5 4 4 4 5 ...
 $ freetime   : num [1:395] 3 3 3 2 3 4 4 1 2 5 ...
 $ goout      : num [1:395] 4 3 2 2 2 2 4 4 2 1 ...
 $ Dalc       : num [1:395] 1 1 2 1 1 1 1 1 1 1 ...
 $ Walc       : num [1:395] 1 1 3 1 2 2 1 1 1 1 ...
 $ health     : num [1:395] 3 3 3 5 5 5 3 1 1 5 ...
 $ nurse_visit: POSIXct[1:395], format: "2014-04-10 14:59:54" "2015-03-12 14:59:54" ...
 $ absences   : num [1:395] 6 4 10 2 4 10 0 6 0 0 ...
 $ Grades     : chr [1:395] "5/6/6" "5/5/6" "7/8/10" "15/14/15" ...
 - attr(*, "spec")=
  .. cols(
  ..   X1 = col_double(),
  ..   school = col_character(),
  ..   sex = col_character(),
  ..   dob = col_date(format = ""),
  ..   address = col_character(),
  ..   famsize = col_character(),
  ..   Pstatus = col_character(),
  ..   Medu = col_double(),
  ..   Fedu = col_double(),
  ..   Mjob = col_character(),
  ..   Fjob = col_character(),
  ..   reason = col_character(),
  ..   guardian = col_character(),
  ..   traveltime = col_double(),
  ..   studytime = col_double(),
  ..   failures = col_double(),
  ..   schoolsup = col_character(),
  ..   famsup = col_character(),
  ..   paid = col_character(),
  ..   activities = col_character(),
  ..   nursery = col_character(),
  ..   higher = col_character(),
  ..   internet = col_character(),
  ..   romantic = col_character(),
  ..   famrel = col_double(),
  ..   freetime = col_double(),
  ..   goout = col_double(),
  ..   Dalc = col_double(),
  ..   Walc = col_double(),
  ..   health = col_double(),
  ..   nurse_visit = col_datetime(format = ""),
  ..   absences = col_double(),
  ..   Grades = col_character()
  .. )</code></pre>
</div>
<div class="cell-output cell-output-display">
<time datetime="2015-09-17">2015-09-17</time>
</div>
<div class="cell-output cell-output-display">
<pre><code>[1] "2012-07-15 12:56:00 UTC"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [395 x 33] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ X1         : num [1:395] 1 2 3 4 5 6 7 8 9 10 ...
 $ school     : chr [1:395] "GP" "GP" "GP" "GP" ...
 $ sex        : chr [1:395] "F" "F" "F" "F" ...
 $ dob        : Date[1:395], format: "2000-06-05" "1999-11-25" ...
 $ address    : chr [1:395] "U" "U" "U" "U" ...
 $ famsize    : chr [1:395] "GT3" "GT3" "LE3" "GT3" ...
 $ Pstatus    : chr [1:395] "A" "T" "T" "T" ...
 $ Medu       : Factor w/ 5 levels "0","1","2","3",..: 5 2 2 5 4 5 3 5 4 4 ...
 $ Fedu       : Factor w/ 5 levels "0","1","2","3",..: 5 2 2 3 4 4 3 5 3 5 ...
 $ Mjob       : chr [1:395] "at_home" "at_home" "at_home" "health" ...
 $ Fjob       : chr [1:395] "teacher" "other" "other" "services" ...
 $ reason     : chr [1:395] "course" "course" "other" "home" ...
 $ guardian   : chr [1:395] "mother" "father" "mother" "mother" ...
 $ traveltime : num [1:395] 2 1 1 1 1 1 1 2 1 1 ...
 $ studytime  : num [1:395] 2 2 2 3 2 2 2 2 2 2 ...
 $ failures   : num [1:395] 0 0 3 0 0 0 0 0 0 0 ...
 $ schoolsup  : chr [1:395] "yes" "no" "yes" "no" ...
 $ famsup     : chr [1:395] "no" "yes" "no" "yes" ...
 $ paid       : chr [1:395] "no" "no" "yes" "yes" ...
 $ activities : chr [1:395] "no" "no" "no" "yes" ...
 $ nursery    : chr [1:395] "yes" "no" "yes" "yes" ...
 $ higher     : chr [1:395] "yes" "yes" "yes" "yes" ...
 $ internet   : chr [1:395] "no" "yes" "yes" "yes" ...
 $ romantic   : chr [1:395] "no" "no" "no" "yes" ...
 $ famrel     : num [1:395] 4 5 4 3 4 5 4 4 4 5 ...
 $ freetime   : num [1:395] 3 3 3 2 3 4 4 1 2 5 ...
 $ goout      : num [1:395] 4 3 2 2 2 2 4 4 2 1 ...
 $ Dalc       : num [1:395] 1 1 2 1 1 1 1 1 1 1 ...
 $ Walc       : num [1:395] 1 1 3 1 2 2 1 1 1 1 ...
 $ health     : num [1:395] 3 3 3 5 5 5 3 1 1 5 ...
 $ nurse_visit: POSIXct[1:395], format: "2014-04-10 14:59:54" "2015-03-12 14:59:54" ...
 $ absences   : num [1:395] 6 4 10 2 4 10 0 6 0 0 ...
 $ Grades     : chr [1:395] "5/6/6" "5/5/6" "7/8/10" "15/14/15" ...
 - attr(*, "spec")=
  .. cols(
  ..   X1 = col_double(),
  ..   school = col_character(),
  ..   sex = col_character(),
  ..   dob = col_date(format = ""),
  ..   address = col_character(),
  ..   famsize = col_character(),
  ..   Pstatus = col_character(),
  ..   Medu = col_double(),
  ..   Fedu = col_double(),
  ..   Mjob = col_character(),
  ..   Fjob = col_character(),
  ..   reason = col_character(),
  ..   guardian = col_character(),
  ..   traveltime = col_double(),
  ..   studytime = col_double(),
  ..   failures = col_double(),
  ..   schoolsup = col_character(),
  ..   famsup = col_character(),
  ..   paid = col_character(),
  ..   activities = col_character(),
  ..   nursery = col_character(),
  ..   higher = col_character(),
  ..   internet = col_character(),
  ..   romantic = col_character(),
  ..   famrel = col_double(),
  ..   freetime = col_double(),
  ..   goout = col_double(),
  ..   Dalc = col_double(),
  ..   Walc = col_double(),
  ..   health = col_double(),
  ..   nurse_visit = col_datetime(format = ""),
  ..   absences = col_double(),
  ..   Grades = col_character()
  .. )</code></pre>
</div>
</div>
</section>
<section id="string-manipulation" class="level2">
<h2 class="anchored" data-anchor-id="string-manipulation">String manipulation</h2>
<section id="trimming-and-padding-strings" class="level3">
<h3 class="anchored" data-anchor-id="trimming-and-padding-strings">Trimming and padding strings</h3>
<p>One common issue that comes up when cleaning data is the need to remove leading and/or trailing white space. The <code>str_trim()</code> function from stringr makes it easy to do this while leaving intact the part of the string that you actually want.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> str_trim(<span class="st">"  this is a test     "</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"this is a test"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A similar issue is when you need to pad strings to make them a certain number of characters wide. One example is if you had a bunch of employee ID numbers, some of which begin with one or more zeros. When reading these data in, you find that the leading zeros have been dropped somewhere along the way (probably because the variable was thought to be numeric and in that case, leading zeros would be unnecessary.)</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> str_pad(<span class="st">"24493"</span>, width <span class="op">=</span> <span class="dv">7</span>, side <span class="op">=</span> <span class="st">"left"</span>, pad <span class="op">=</span> <span class="st">"0"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"0024493"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the stringr package</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Trim all leading and trailing whitespace</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(<span class="fu">c</span>(<span class="st">"   Filip "</span>, <span class="st">"Nick  "</span>, <span class="st">" Jonathan"</span>))</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Pad these strings with leading zeros</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str_pad</span>(<span class="fu">c</span>(<span class="st">"23485W"</span>, <span class="st">"8823453Q"</span>, <span class="st">"994Z"</span>), <span class="at">width=</span><span class="dv">9</span>, <span class="at">side=</span><span class="st">'left'</span>, <span class="at">pad=</span><span class="st">'0'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>'Filip'</li>
    <li>'Nick'</li>
    <li>'Jonathan'</li>
</ol>
</div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>'00023485W'</li>
    <li>'08823453Q'</li>
    <li>'00000994Z'</li>
</ol>
</div>
</div>
<blockquote class="blockquote">
<p>Examples like this are certainly handy in R. For example, the <code>str_pad()</code> function is useful when importing a dataset with US zip codes. Occasionally R will drop the leading 0 in a zipcode, thinking it’s numeric.</p>
</blockquote>
</section>
<section id="upper-and-lower-case" class="level3">
<h3 class="anchored" data-anchor-id="upper-and-lower-case">Upper and lower case</h3>
<p>In addition to trimming and padding strings, you may need to adjust their case from time to time. Making strings uppercase or lowercase is very straightforward in (base) R thanks to <code>toupper()</code> and <code>tolower()</code>. Each function takes exactly one argument: the character string (or vector/column of strings) to be converted to the desired case.</p>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"al"</span>, <span class="st">"ak"</span>, <span class="st">"az"</span>, <span class="st">"ar"</span>, <span class="st">"ca"</span>, <span class="st">"co"</span>, <span class="st">"ct"</span>, <span class="st">"de"</span>, <span class="st">"fl"</span>, <span class="st">"ga"</span>, <span class="st">"hi"</span>, <span class="st">"id"</span>, <span class="st">"il"</span>, <span class="st">"in"</span>, <span class="st">"ia"</span>, <span class="st">"ks"</span>, <span class="st">"ky"</span>, <span class="st">"la"</span>, <span class="st">"me"</span>, <span class="st">"md"</span>, <span class="st">"ma"</span>, <span class="st">"mi"</span>, <span class="st">"mn"</span>, <span class="st">"ms"</span>, <span class="st">"mo"</span>, <span class="st">"mt"</span>, <span class="st">"ne"</span>, <span class="st">"nv"</span>, <span class="st">"nh"</span>, <span class="st">"nj"</span>, <span class="st">"nm"</span>, <span class="st">"ny"</span>, <span class="st">"nc"</span>, <span class="st">"nd"</span>, <span class="st">"oh"</span>, <span class="st">"ok"</span>, <span class="st">"or"</span>, <span class="st">"pa"</span>, <span class="st">"ri"</span>, <span class="st">"sc"</span>, <span class="st">"sd"</span>, <span class="st">"tn"</span>, <span class="st">"tx"</span>, <span class="st">"ut"</span>, <span class="st">"vt"</span>, <span class="st">"va"</span>, <span class="st">"wa"</span>, <span class="st">"wv"</span>, <span class="st">"wi"</span>, <span class="st">"wy"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Print state abbreviations</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>states</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Make states all uppercase and save result to states_upper</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>states_upper <span class="ot">&lt;-</span> <span class="fu">toupper</span>(states)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>states_upper </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Make states_upper all lowercase again</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(states_upper)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>'al'</li>
    <li>'ak'</li>
    <li>'az'</li>
    <li>'ar'</li>
    <li>'ca'</li>
    <li>'co'</li>
    <li>'ct'</li>
    <li>'de'</li>
    <li>'fl'</li>
    <li>'ga'</li>
    <li>'hi'</li>
    <li>'id'</li>
    <li>'il'</li>
    <li>'in'</li>
    <li>'ia'</li>
    <li>'ks'</li>
    <li>'ky'</li>
    <li>'la'</li>
    <li>'me'</li>
    <li>'md'</li>
    <li>'ma'</li>
    <li>'mi'</li>
    <li>'mn'</li>
    <li>'ms'</li>
    <li>'mo'</li>
    <li>'mt'</li>
    <li>'ne'</li>
    <li>'nv'</li>
    <li>'nh'</li>
    <li>'nj'</li>
    <li>'nm'</li>
    <li>'ny'</li>
    <li>'nc'</li>
    <li>'nd'</li>
    <li>'oh'</li>
    <li>'ok'</li>
    <li>'or'</li>
    <li>'pa'</li>
    <li>'ri'</li>
    <li>'sc'</li>
    <li>'sd'</li>
    <li>'tn'</li>
    <li>'tx'</li>
    <li>'ut'</li>
    <li>'vt'</li>
    <li>'va'</li>
    <li>'wa'</li>
    <li>'wv'</li>
    <li>'wi'</li>
    <li>'wy'</li>
</ol>
</div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>'AL'</li>
    <li>'AK'</li>
    <li>'AZ'</li>
    <li>'AR'</li>
    <li>'CA'</li>
    <li>'CO'</li>
    <li>'CT'</li>
    <li>'DE'</li>
    <li>'FL'</li>
    <li>'GA'</li>
    <li>'HI'</li>
    <li>'ID'</li>
    <li>'IL'</li>
    <li>'IN'</li>
    <li>'IA'</li>
    <li>'KS'</li>
    <li>'KY'</li>
    <li>'LA'</li>
    <li>'ME'</li>
    <li>'MD'</li>
    <li>'MA'</li>
    <li>'MI'</li>
    <li>'MN'</li>
    <li>'MS'</li>
    <li>'MO'</li>
    <li>'MT'</li>
    <li>'NE'</li>
    <li>'NV'</li>
    <li>'NH'</li>
    <li>'NJ'</li>
    <li>'NM'</li>
    <li>'NY'</li>
    <li>'NC'</li>
    <li>'ND'</li>
    <li>'OH'</li>
    <li>'OK'</li>
    <li>'OR'</li>
    <li>'PA'</li>
    <li>'RI'</li>
    <li>'SC'</li>
    <li>'SD'</li>
    <li>'TN'</li>
    <li>'TX'</li>
    <li>'UT'</li>
    <li>'VT'</li>
    <li>'VA'</li>
    <li>'WA'</li>
    <li>'WV'</li>
    <li>'WI'</li>
    <li>'WY'</li>
</ol>
</div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>'al'</li>
    <li>'ak'</li>
    <li>'az'</li>
    <li>'ar'</li>
    <li>'ca'</li>
    <li>'co'</li>
    <li>'ct'</li>
    <li>'de'</li>
    <li>'fl'</li>
    <li>'ga'</li>
    <li>'hi'</li>
    <li>'id'</li>
    <li>'il'</li>
    <li>'in'</li>
    <li>'ia'</li>
    <li>'ks'</li>
    <li>'ky'</li>
    <li>'la'</li>
    <li>'me'</li>
    <li>'md'</li>
    <li>'ma'</li>
    <li>'mi'</li>
    <li>'mn'</li>
    <li>'ms'</li>
    <li>'mo'</li>
    <li>'mt'</li>
    <li>'ne'</li>
    <li>'nv'</li>
    <li>'nh'</li>
    <li>'nj'</li>
    <li>'nm'</li>
    <li>'ny'</li>
    <li>'nc'</li>
    <li>'nd'</li>
    <li>'oh'</li>
    <li>'ok'</li>
    <li>'or'</li>
    <li>'pa'</li>
    <li>'ri'</li>
    <li>'sc'</li>
    <li>'sd'</li>
    <li>'tn'</li>
    <li>'tx'</li>
    <li>'ut'</li>
    <li>'vt'</li>
    <li>'va'</li>
    <li>'wa'</li>
    <li>'wv'</li>
    <li>'wi'</li>
    <li>'wy'</li>
</ol>
</div>
</div>
</section>
<section id="finding-and-replacing-strings" class="level3">
<h3 class="anchored" data-anchor-id="finding-and-replacing-strings">Finding and replacing strings</h3>
<p>The stringr package provides two functions that are very useful for finding and/or replacing patterns in strings: <code>str_detect()</code> and <code>str_replace()</code>.</p>
<p>Like all functions in stringr, the first argument of each is the string of interest. The second argument of each is the pattern of interest. In the case of <code>str_detect()</code>, this is the pattern we are searching for. In the case of <code>str_replace()</code>, this is the pattern we want to replace. Finally, <code>str_replace()</code> has a third argument, which is the string to replace with.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> str_detect(c(<span class="st">"banana"</span>, <span class="st">"kiwi"</span>), <span class="st">"a"</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  TRUE FALSE</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> str_replace(c(<span class="st">"banana"</span>, <span class="st">"kiwi"</span>), <span class="st">"a"</span>, <span class="st">"o"</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"bonana"</span> <span class="st">"kiwi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy of students2: students3</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>students3 <span class="ot">&lt;-</span> students</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the head of students3</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(students3)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect all dates of birth (dob) in 1997</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(students3<span class="sc">$</span>dob, <span class="st">"1997"</span>)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co"># In the sex column, replace "F" with "Female" ...</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>students3<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(students3<span class="sc">$</span>sex, <span class="st">"F"</span>, <span class="st">"Female"</span>)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ... and "M" with "Male"</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>students3<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(students3<span class="sc">$</span>sex, <span class="st">"M"</span>, <span class="st">"Male"</span>)</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co"># View the head of students3</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(students3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">X1</th><th scope="col">school</th><th scope="col">sex</th><th scope="col">dob</th><th scope="col">address</th><th scope="col">famsize</th><th scope="col">Pstatus</th><th scope="col">Medu</th><th scope="col">Fedu</th><th scope="col">Mjob</th><th scope="col">...</th><th scope="col">romantic</th><th scope="col">famrel</th><th scope="col">freetime</th><th scope="col">goout</th><th scope="col">Dalc</th><th scope="col">Walc</th><th scope="col">health</th><th scope="col">nurse_visit</th><th scope="col">absences</th><th scope="col">Grades</th></tr></thead>
<tbody>
    <tr><td>1                  </td><td>GP                 </td><td>F                  </td><td>2000-06-05         </td><td>U                  </td><td>GT3                </td><td>A                  </td><td>4                  </td><td>4                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>4                  </td><td>1                  </td><td>1                  </td><td>3                  </td><td>2014-04-10 14:59:54</td><td> 6                 </td><td>5/6/6              </td></tr>
    <tr><td>2                  </td><td>GP                 </td><td>F                  </td><td>1999-11-25         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>1                  </td><td>1                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>5                  </td><td>3                  </td><td>3                  </td><td>1                  </td><td>1                  </td><td>3                  </td><td>2015-03-12 14:59:54</td><td> 4                 </td><td>5/5/6              </td></tr>
    <tr><td>3                  </td><td>GP                 </td><td>F                  </td><td>1998-02-02         </td><td>U                  </td><td>LE3                </td><td>T                  </td><td>1                  </td><td>1                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>2                  </td><td>2                  </td><td>3                  </td><td>3                  </td><td>2015-09-21 14:59:54</td><td>10                 </td><td>7/8/10             </td></tr>
    <tr><td>4                  </td><td>GP                 </td><td>F                  </td><td>1997-12-20         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>4                  </td><td>2                  </td><td>health             </td><td>...                </td><td>yes                </td><td>3                  </td><td>2                  </td><td>2                  </td><td>1                  </td><td>1                  </td><td>5                  </td><td>2015-09-03 14:59:54</td><td> 2                 </td><td>15/14/15           </td></tr>
    <tr><td>5                  </td><td>GP                 </td><td>F                  </td><td>1998-10-04         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>3                  </td><td>3                  </td><td>other              </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>2                  </td><td>1                  </td><td>2                  </td><td>5                  </td><td>2015-04-07 14:59:54</td><td> 4                 </td><td>6/10/10            </td></tr>
    <tr><td>6                  </td><td>GP                 </td><td>M                  </td><td>1999-06-16         </td><td>U                  </td><td>LE3                </td><td>T                  </td><td>4                  </td><td>3                  </td><td>services           </td><td>...                </td><td>no                 </td><td>5                  </td><td>4                  </td><td>2                  </td><td>1                  </td><td>2                  </td><td>5                  </td><td>2013-11-15 14:59:54</td><td>10                 </td><td>15/15/15           </td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>TRUE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
    <li>FALSE</li>
</ol>
</div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">X1</th><th scope="col">school</th><th scope="col">sex</th><th scope="col">dob</th><th scope="col">address</th><th scope="col">famsize</th><th scope="col">Pstatus</th><th scope="col">Medu</th><th scope="col">Fedu</th><th scope="col">Mjob</th><th scope="col">...</th><th scope="col">romantic</th><th scope="col">famrel</th><th scope="col">freetime</th><th scope="col">goout</th><th scope="col">Dalc</th><th scope="col">Walc</th><th scope="col">health</th><th scope="col">nurse_visit</th><th scope="col">absences</th><th scope="col">Grades</th></tr></thead>
<tbody>
    <tr><td>1                  </td><td>GP                 </td><td>Female             </td><td>2000-06-05         </td><td>U                  </td><td>GT3                </td><td>A                  </td><td>4                  </td><td>4                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>4                  </td><td>1                  </td><td>1                  </td><td>3                  </td><td>2014-04-10 14:59:54</td><td> 6                 </td><td>5/6/6              </td></tr>
    <tr><td>2                  </td><td>GP                 </td><td>Female             </td><td>1999-11-25         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>1                  </td><td>1                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>5                  </td><td>3                  </td><td>3                  </td><td>1                  </td><td>1                  </td><td>3                  </td><td>2015-03-12 14:59:54</td><td> 4                 </td><td>5/5/6              </td></tr>
    <tr><td>3                  </td><td>GP                 </td><td>Female             </td><td>1998-02-02         </td><td>U                  </td><td>LE3                </td><td>T                  </td><td>1                  </td><td>1                  </td><td>at_home            </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>2                  </td><td>2                  </td><td>3                  </td><td>3                  </td><td>2015-09-21 14:59:54</td><td>10                 </td><td>7/8/10             </td></tr>
    <tr><td>4                  </td><td>GP                 </td><td>Female             </td><td>1997-12-20         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>4                  </td><td>2                  </td><td>health             </td><td>...                </td><td>yes                </td><td>3                  </td><td>2                  </td><td>2                  </td><td>1                  </td><td>1                  </td><td>5                  </td><td>2015-09-03 14:59:54</td><td> 2                 </td><td>15/14/15           </td></tr>
    <tr><td>5                  </td><td>GP                 </td><td>Female             </td><td>1998-10-04         </td><td>U                  </td><td>GT3                </td><td>T                  </td><td>3                  </td><td>3                  </td><td>other              </td><td>...                </td><td>no                 </td><td>4                  </td><td>3                  </td><td>2                  </td><td>1                  </td><td>2                  </td><td>5                  </td><td>2015-04-07 14:59:54</td><td> 4                 </td><td>6/10/10            </td></tr>
    <tr><td>6                  </td><td>GP                 </td><td>Male               </td><td>1999-06-16         </td><td>U                  </td><td>LE3                </td><td>T                  </td><td>4                  </td><td>3                  </td><td>services           </td><td>...                </td><td>no                 </td><td>5                  </td><td>4                  </td><td>2                  </td><td>1                  </td><td>2                  </td><td>5                  </td><td>2013-11-15 14:59:54</td><td>10                 </td><td>15/15/15           </td></tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="missing-and-special-values" class="level2">
<h2 class="anchored" data-anchor-id="missing-and-special-values">Missing and special values</h2>
<section id="finding-missing-values" class="level3">
<h3 class="anchored" data-anchor-id="finding-missing-values">Finding missing values</h3>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>social_df <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">name=</span><span class="fu">c</span>(<span class="st">'Sarah'</span>, <span class="st">'Tom'</span>, <span class="st">'David'</span>, <span class="st">'Alice'</span>), <span class="at">n_friends=</span><span class="fu">c</span>(<span class="dv">244</span>,<span class="cn">NA</span>,<span class="dv">145</span>,<span class="dv">43</span>),<span class="at">status=</span><span class="fu">c</span>(<span class="st">'going out'</span>, <span class="st">""</span>,<span class="st">'Movie Night'</span>, <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call is.na() on the full social_df to spot all NAs</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(social_df)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the any() function to ask whether there are any NAs in the data</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(social_df))</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View a summary() of the dataset</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(social_df)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Call table() on the status column</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(social_df<span class="sc">$</span>status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">name</th><th scope="col">n_friends</th><th scope="col">status</th></tr></thead>
<tbody>
    <tr><td>FALSE</td><td>FALSE</td><td>FALSE</td></tr>
    <tr><td>FALSE</td><td> TRUE</td><td>FALSE</td></tr>
    <tr><td>FALSE</td><td>FALSE</td><td>FALSE</td></tr>
    <tr><td>FALSE</td><td>FALSE</td><td>FALSE</td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">
TRUE
</div>
<div class="cell-output cell-output-display">
<pre><code>    name     n_friends             status 
 Alice:1   Min.   : 43.0              :2  
 David:1   1st Qu.: 94.0   going out  :1  
 Sarah:1   Median :145.0   Movie Night:1  
 Tom  :1   Mean   :144.0                  
           3rd Qu.:194.5                  
           Max.   :244.0                  
           NA's   :1                      </code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>
              going out Movie Night 
          2           1           1 </code></pre>
</div>
</div>
</section>
<section id="dealing-with-missing-values" class="level3">
<h3 class="anchored" data-anchor-id="dealing-with-missing-values">Dealing with missing values</h3>
<p>Missing values can be a rather complex subject, but here we’ll only look at the simple case where you are simply interested in normalizing and/or removing all missing values from your data. For more information on why this is not always the best strategy, search online for “missing not at random.”</p>
<p>Looking at the <code>social_df</code> dataset again, we asked around a bit and figured out what’s causing the missing values that you saw in the last exercise. Tom doesn’t have a social media account on this particular platform, which explains why his number of friends and current status are missing (although coded in two different ways). Alice is on the platform, but is a passive user and never sets her status, hence the reason it’s missing for her.</p>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace all empty strings in status with NA</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>social_df<span class="sc">$</span>status[social_df<span class="sc">$</span>status <span class="sc">==</span> <span class="st">""</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print social_df to the console</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>social_df</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use complete.cases() to see which rows have no missing values</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="fu">complete.cases</span>(social_df)</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Use na.omit() to remove all rows with any missing values</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(social_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th scope="col">name</th><th scope="col">n_friends</th><th scope="col">status</th></tr></thead>
<tbody>
    <tr><td>Sarah      </td><td>244        </td><td>going out  </td></tr>
    <tr><td>Tom        </td><td> NA        </td><td>NA         </td></tr>
    <tr><td>David      </td><td>145        </td><td>Movie Night</td></tr>
    <tr><td>Alice      </td><td> 43        </td><td>NA         </td></tr>
</tbody>
</table>
</div>
<div class="cell-output cell-output-display">
<ol class="list-inline">
    <li>TRUE</li>
    <li>FALSE</li>
    <li>TRUE</li>
    <li>FALSE</li>
</ol>
</div>
<div class="cell-output cell-output-display">

<table>
<thead><tr><th></th><th scope="col">name</th><th scope="col">n_friends</th><th scope="col">status</th></tr></thead>
<tbody>
    <tr><th scope="row">1</th><td>Sarah      </td><td>244        </td><td>going out  </td></tr>
    <tr><th scope="row">3</th><td>David      </td><td>145        </td><td>Movie Night</td></tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="outliers-and-obvious-errors" class="level2">
<h2 class="anchored" data-anchor-id="outliers-and-obvious-errors">Outliers and obvious errors</h2>
<section id="dealing-with-outliers-and-obvious-errors" class="level3">
<h3 class="anchored" data-anchor-id="dealing-with-outliers-and-obvious-errors">Dealing with outliers and obvious errors</h3>
<p>When dealing with strange values in your data, you often must decide whether they are just extreme or actually erroneous. Extreme values show up all over the place, but you, the data analyst, must figure out when they are plausible and when they are not.</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at a summary() of students3</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(students3)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View a histogram of the studytime variable</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(students3<span class="sc">$</span>studytime)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View a histogram of the failures variable</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(students3<span class="sc">$</span>failures)</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View a histogram of absences, but force zeros to be bucketed to the right of zero</span></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(students3<span class="sc">$</span>failures, <span class="at">right=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>       X1           school              sex                 dob            
 Min.   :  1.0   Length:395         Length:395         Min.   :1996-11-02  
 1st Qu.: 99.5   Class :character   Class :character   1st Qu.:1997-11-04  
 Median :198.0   Mode  :character   Mode  :character   Median :1998-12-16  
 Mean   :198.0                                         Mean   :1998-10-30  
 3rd Qu.:296.5                                         3rd Qu.:1999-10-29  
 Max.   :395.0                                         Max.   :2000-10-25  
   address            famsize            Pstatus          Medu    Fedu   
 Length:395         Length:395         Length:395         0:  3   0:  2  
 Class :character   Class :character   Class :character   1: 59   1: 82  
 Mode  :character   Mode  :character   Mode  :character   2:103   2:115  
                                                          3: 99   3:100  
                                                          4:131   4: 96  
                                                                         
     Mjob               Fjob              reason            guardian        
 Length:395         Length:395         Length:395         Length:395        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
   traveltime      studytime        failures       schoolsup        
 Min.   :1.000   Min.   :1.000   Min.   :0.0000   Length:395        
 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:0.0000   Class :character  
 Median :1.000   Median :2.000   Median :0.0000   Mode  :character  
 Mean   :1.448   Mean   :2.035   Mean   :0.3342                     
 3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:0.0000                     
 Max.   :4.000   Max.   :4.000   Max.   :3.0000                     
    famsup              paid            activities          nursery         
 Length:395         Length:395         Length:395         Length:395        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
    higher            internet           romantic             famrel     
 Length:395         Length:395         Length:395         Min.   :1.000  
 Class :character   Class :character   Class :character   1st Qu.:4.000  
 Mode  :character   Mode  :character   Mode  :character   Median :4.000  
                                                          Mean   :3.944  
                                                          3rd Qu.:5.000  
                                                          Max.   :5.000  
    freetime         goout            Dalc            Walc      
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:3.000   1st Qu.:2.000   1st Qu.:1.000   1st Qu.:1.000  
 Median :3.000   Median :3.000   Median :1.000   Median :2.000  
 Mean   :3.235   Mean   :3.109   Mean   :1.481   Mean   :2.291  
 3rd Qu.:4.000   3rd Qu.:4.000   3rd Qu.:2.000   3rd Qu.:3.000  
 Max.   :5.000   Max.   :5.000   Max.   :5.000   Max.   :5.000  
     health       nurse_visit                     absences     
 Min.   :1.000   Min.   :2013-10-28 14:59:54   Min.   : 0.000  
 1st Qu.:3.000   1st Qu.:2014-04-07 02:59:54   1st Qu.: 0.000  
 Median :4.000   Median :2014-09-15 14:59:54   Median : 4.000  
 Mean   :3.554   Mean   :2014-10-10 05:31:11   Mean   : 5.709  
 3rd Qu.:5.000   3rd Qu.:2015-04-08 02:59:54   3rd Qu.: 8.000  
 Max.   :5.000   Max.   :2015-10-15 14:59:54   Max.   :75.000  
    Grades         
 Length:395        
 Class :character  
 Mode  :character  
                   
                   
                   </code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="2020-10-19-Cleaning Data in R_files/figure-html/cell-29-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="2020-10-19-Cleaning Data in R_files/figure-html/cell-29-output-3.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="2020-10-19-Cleaning Data in R_files/figure-html/cell-29-output-4.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="another-look-at-strange-values" class="level3">
<h3 class="anchored" data-anchor-id="another-look-at-strange-values">Another look at strange values</h3>
<p>Another useful way of looking at strange values is with boxplots. Simply put, boxplots draw a box around the middle 50% of values for a given variable, with a bolded horizontal line drawn at the median. Values that fall far from the bulk of the data points (i.e.&nbsp;outliers) are denoted by open circles.</p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(students3<span class="sc">$</span>studytime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2020-10-19-Cleaning Data in R_files/figure-html/cell-30-output-1.png" class="img-fluid"></p>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>